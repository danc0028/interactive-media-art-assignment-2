:root{
  --bg:#0a0e1a; --fg:#eaeefb; --accent:#64d2ff;
  --card-w: 110px;
  --card-h: calc(var(--card-w) * 1.33);
  --gap: clamp(10px, 2.6vw, 16px);
  --radius: 14px; --persp: 1000px;
}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--fg);
  background: radial-gradient(1200px 700px at 30% -10%, #172045, transparent), var(--bg);
  display:flex; flex-direction:column;
}
ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.topbar{
  position: sticky; top: 0; z-index: 5;
  backdrop-filter: saturate(1.2) blur(8px);
  background: rgba(10,14,26,0.7);
  border-bottom: 1px solid rgba(255,255,255,0.06);
  padding: 10px clamp(10px, 4vw, 24px);
  display:flex; gap: 10px; align-items:center; justify-content:space-between;
  flex-wrap: wrap;
  font-size: small;
}
.stats, .controls{ display:flex; gap: 10px; align-items:center; flex-wrap:wrap; }
.pill{ padding: 6px 10px; background: rgba(255,255,255,0.06); border-radius: 999px; }
.btn{
  border: none; background: var(--accent); color: #03121a; font-weight: 700;
  padding: 8px 14px; border-radius: 999px; cursor: pointer;
  box-shadow: 0 6px 20px rgba(100,210,255,0.35);
}
.btn:active{ transform: translateY(1px); }

main{ padding: clamp(10px, 4vw, 28px); display:grid; place-items:center; }
.grid{
  width: min(100%, 540px);
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(var(--card-w), 1fr));
  gap: var(--gap);
  justify-items: center;
}
.card{
  width: var(--card-w); height: var(--card-h);
  perspective: var(--persp);
  border: none; background: transparent; padding:0;
  -webkit-user-select: none; user-select: none;
}
.card-inner{
  position: relative; width: 100%; height: 100%;
  transform-style: preserve-3d;
  transition: transform 560ms cubic-bezier(.2,.85,.2,1.2);
  will-change: transform;
  border-radius: var(--radius);
}
.card.flip .card-inner{ transform: rotateY(180deg); }
.card-face{
  position:absolute; inset:0;
  -webkit-backface-visibility: hidden; backface-visibility: hidden;
  -webkit-transform-style: preserve-3d; transform-style: preserve-3d;
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 0 0 1px rgba(255,255,255,0.08);
  background: #0e1430;
}
.card-face img{ width:100%; height:100%; object-fit: cover; display:block; }
.card-face.front{ transform: rotateY(180deg); }

.footer{
  padding: 16px; text-align:center; color: #b8c4e3;
  border-top: 1px solid rgba(255,255,255,0.06);
  margin-top: auto;
}
dialog{
  border:none; border-radius: 16px; padding: 20px 24px;
  background: #0c1226; color: var(--fg);
  box-shadow: 0 20px 80px rgba(0,0,0,0.6), inset 0 0 0 1px rgba(255,255,255,0.08);
  width: min(90vw, 420px);
}
dialog::backdrop{ background: rgba(0,0,0,0.55); }
.dialog-actions{ display:flex; justify-content:center; margin-top: 10px; }

.controls {
  display: none;
}

@media (min-width: 540px){
  :root{ --card-w: 140px; }
}

@media (prefers-reduced-motion: reduce){
  .card-inner{ transition: none; }
}

/* credits links */
.credits {
  text-align: left;
  margin: 0;
  padding: 0;
  width: 100%;
}
.credits ul {
  list-style: none;
  padding: 0;
  margin: 0;
  text-align: left;
}
.credits li {
  margin: 8px 0;
  padding: 0;
}
.credits a{ text-decoration: underline; color: inherit; }


/* === Circular Play Again button === */
#playAgain {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  padding: 0;
  font-size: 0; /* hide text inside */
  background-color: #4CAF50;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

#playAgain:hover {
  background-color: #45a049;
}


/* === Play Again button repositioned bottom-right === */
#winDialog {
  position: relative;
}

#winDialog .dialog-actions {
  position: relative;
}

#playAgain {
  position: absolute;
  right: 20px;
  bottom: 20px;
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background-color: #4CAF50;
  color: white;
  border: none;
  font-size: 14px;
  font-weight: bold;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  transition: background-color 0.3s ease, transform 0.2s ease;
}

#playAgain:hover {
  background-color: #45a049;
  transform: scale(1.05);
}


/* === Clean circular Play Again button (no arrow) === */
#playAgain {
  position: absolute;
  right: 20px;
  bottom: 20px;
  width: 90px;
  height: 90px;
  border-radius: 50%;
  background-color: #4CAF50;
  color: white;
  border: none;
  font-size: 14px;
  font-weight: bold;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  transition: background-color 0.3s ease, transform 0.2s ease;
}

#playAgain:hover {
  background-color: #45a049;
  transform: scale(1.05);
}
